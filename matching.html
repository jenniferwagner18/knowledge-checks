<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://d3js.org/d3.v5.min.js"></script>

</head>
<body>
  <div class="container-fluid">
<div class="row">
<div class="col-sm-10 offset-sm-1">
  <br><br>
  <h2>Sample Matching Question</h2>
  <p>Click on a university in the left column and then click the corresponding mascot in the right column.</p>
  <p></p> <div class="container"> <div class="row"> <div class="col-sm-6">
<input type="button" class="btn btn-light btn-block" value="Purdue" onclick="this.value='1. Purdue'; this.style.backgroundColor='#BDD9BF'; this.style.color='white';">
<input type="button" class="btn btn-light btn-block" value="Michigan State" onclick="this.value='2. Michigan State'; this.style.backgroundColor='#929084'; this.style.color='white';">
<input type="button" class="btn btn-light btn-block" value="Penn State" onclick="this.value='3. Penn State'; this.style.backgroundColor='#FFC857'; this.style.color='white';">
<input type="button" class="btn btn-light btn-block" value="Michigan" onclick="this.value='4. Michigan'; this.style.backgroundColor='#A997DF'; this.style.color='white';">
<input type="button" class="btn btn-light btn-block" value="Rutgers" onclick="this.value='5. Rutgers'; this.style.backgroundColor='#E5323B'; this.style.color='white';">
<input type="button" class="btn btn-light btn-block" value="Illinois" onclick="this.value='6. Illinois'; this.style.backgroundColor='#2E4052'; this.style.color='white';">
<p></p></div><div class="col-sm-6">
<input type="button" class="btn btn-light btn-block" value="Scarlet Knights" onclick="this.style.backgroundColor='#E5323B'; this.style.color='white'; this.value='5. Scarlet Knights';">
<input type="button" class="btn btn-light btn-block" value="Wolverines" onclick="this.style.backgroundColor='#A997DF'; this.style.color='white'; this.value='4. Wolverines';">
<input type="button" class="btn btn-light btn-block" value="Nittany Lions" onclick="this.style.backgroundColor='#FFC857'; this.style.color='white'; this.value='3. Nittany Lions';">
<input type="button" class="btn btn-light btn-block" value="Illini" onclick="this.style.backgroundColor='#2E4052'; this.style.color='white'; this.value='6. Illini';">
<input type="button" class="btn btn-light btn-block" value="Boilermakers" onclick="this.style.backgroundColor='#BDD9BF'; this.style.color='white'; this.value='1. Boilermakers';">
<input type="button" class="btn btn-light btn-block" value="Spartans" onclick="this.style.backgroundColor='#929084'; this.style.color='white'; this.value='2. Spartans';">
</div></div></div><p></p>
<hr>
  <h2>Matching Question Code Generator</h2>
  <p>Instruct students to click on a button in the left column and then click on the matching button in the right column. Both numbers and colors will appear with the text you input to indicate the matches (though each color used is distinguishable from the others for each of the 8 types of color blindness). </p>
<p>Enter your directions: <input id="matching" type="text" size="50" /></p>
<p>Entries in the left column will stay in the order entered; matches in the right column will be shuffled. (You do not have to use all six.)</p>

1. <input id="choice1" name="choice" type="text" size="30"> = <input id="match1" name="match" type="text" size="30"> <br><br>
2. <input id="choice2" name="choice" type="text" size="30">  = <input id="match2" name="match" type="text" size="30">  <br><br>
3. <input id="choice3" name="choice" type="text" size="30">  = <input id="match3" name="match" type="text" size="30">  <br><br>
4. <input id="choice4" name="choice" type="text" size="30">  = <input id="match4" name="match" type="text" size="30">  <br><br>
5. <input id="choice5" name="choice" type="text" size="30">  = <input id="match5" name="match" type="text" size="30">  <br><br>
6. <input id="choice6" name="choice" type="text" size="30">  = <input id="match6" name="match" type="text" size="30">  <br><br>
 <p><button class="btn btn-light" onclick="createCodeMC()">Create Code</button> </p>
  <p>Code will generate below: </p>
  <p id="generateMC" style="user-select: all" class="bg-light"></p>
<button id="copiedMC" class="btn btn-light" onclick="copyCodeMC('generateMC')">Copy Code</button>
<button id="clearMC" class="btn btn-light" onclick="clearCodeMC('generateMC')">Clear Code</button>
  <hr>
  <h2> Copy & Paste Code</h2>
<p>Click the Copy Code button above to copy the code to the clipboard. On your D2L page, open the HTML editor, click the Insert Stuff icon, choose Enter Embed Code, right-click and choose Paste. (The preview will not be accurate.)</p>

<p><strong>Make sure to click Save and Close BEFORE testing the buttons. DO NOT CLICK on the buttons while still in editing mode or D2L will change the code.</strong></p>

<p>To add another question, click Clear Code above to clear out/uncheck the boxes and start over.</p>

<p>Student answers are not tracked or graded and will be reset when refreshing the page.</p>
  </div>
  </div>
 </div>
  <script>
function createCodeMC()
   {
     // throw alert if answers 1 and 2 are empty
     if (document.getElementById("choice1").value == "" && document.getElementById("choice2").value == "" && document.getElementById("match1").value == "" && document.getElementById("match2").value == "") {
       window.alert("Please enter answers for at least 1 and 2.")
     } else {

   // set color palette
   var colorPalette = ["#BDD9BF", "#929084", "#FFC857", "#A997DF", "#E5323B", "#2E4052"];

   // directions paragraph
   var theDirections = document.getElementById("matching").value;
   document.getElementById("generateMC").insertAdjacentHTML('beforeend', '<pre>&lt;p&gt;' + theDirections + '&lt;/p&gt; &lt;div class="container"&gt; &lt;div class="row"&gt; &lt;div class="col-sm-6"&gt;</pre>');

   // left column
  var theChoices = document.getElementsByName("choice");
   for (var i = 0; i < theChoices.length; i++) {
     var answerChoice = theChoices[i].value;
     if (answerChoice !== null && answerChoice !== '')
       {
         document.getElementById("generateMC").insertAdjacentHTML('beforeend', '<pre>&lt;input type="button" class="btn btn-light btn-block" value="' + answerChoice + '" onclick="this.value=\'' + (i + 1) + ". " + answerChoice + '\'; this.style.backgroundColor=\'' + colorPalette[i] + '\'; this.style.color=\'white\';"&gt;</pre>');
     }
     else
       {
         break;
       }
     } //end of for loop for left column

 document.getElementById("generateMC").insertAdjacentHTML('beforeend', '<pre>&lt;/div&gt;&lt;div class="col-sm-6"&gt;</pre>');

 // right column
 var allMatches = [];
 var theMatches = document.getElementsByName("match");
 for (var i = 0; i < theMatches.length; i++) {
   if (theMatches[i].value !== null && theMatches[i].value !== '') {
     allMatches.push(theMatches[i].value);
   }
     }  // end of for loop for right column
 // shuffle array elements
 do {
     var shuffledArray = d3.shuffle(allMatches.slice());
     } while (JSON.stringify(shuffledArray) === JSON.stringify(allMatches));

 // display buttons from shuffled array
 for (var i = 0; i < allMatches.length; i++) {
     document.getElementById("generateMC").insertAdjacentHTML('beforeend', '<pre>&lt;input type="button" class="btn btn-light btn-block" value="' + shuffledArray[i] + '" onclick="this.style.backgroundColor=\'' + colorPalette[allMatches.indexOf(shuffledArray[i])] + '\'; this.style.color=\'white\'; this.value=\'' + (allMatches.indexOf(shuffledArray[i]) + 1) + ". " + shuffledArray[i] + '\';"&gt;</pre>');

   } // end of for loop to display buttons from shuffled array

 document.getElementById("generateMC").insertAdjacentHTML('beforeend', '<pre>&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;</pre>');
} // end of check for empty 1 & 2 boxes
 } // end of createCode function
   
  
function copyCodeMC(id)
{
var r = document.createRange();
r.selectNode(document.getElementById(id));
window.getSelection().removeAllRanges();
window.getSelection().addRange(r);
document.execCommand('copy');
window.getSelection().removeAllRanges();
}

function clearCodeMC(id)
{
   document.getElementById(id).innerHTML = "";
  document.getElementById("matching").value = "";
   for (var i = 0; i < document.getElementsByName("choice").length; i++) {
    document.getElementsByName("choice")[i].value = "";
    document.getElementsByName("match")[i].value = "";
   }
  
}
</script>
<script>
$(document).ready(function(){
    $('#copiedMC').tooltip({title: "Code Copied!", trigger: "click", placement: "bottom"});
  });
$('#clearMC').click(function(){
    $('#copiedMC').tooltip('hide');
  });
</script>
</body>
</html>
